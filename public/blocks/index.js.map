{"version":3,"file":"index.js","mappings":"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","sources":["webpack://wp-smartpay/./resources/blocks/form/components/SelectForm.js","webpack://wp-smartpay/./resources/blocks/form/components/Sidebar.js","webpack://wp-smartpay/./resources/blocks/form/index.js","webpack://wp-smartpay/./resources/blocks/product/components/SelectProduct.js","webpack://wp-smartpay/./resources/blocks/product/components/Sidebar.js","webpack://wp-smartpay/./resources/blocks/product/index.js","webpack://wp-smartpay/external window \"React\"","webpack://wp-smartpay/webpack/bootstrap","webpack://wp-smartpay/webpack/runtime/compat get default export","webpack://wp-smartpay/webpack/runtime/define property getters","webpack://wp-smartpay/webpack/runtime/hasOwnProperty shorthand","webpack://wp-smartpay/webpack/runtime/make namespace object","webpack://wp-smartpay/./resources/blocks/index.js"],"sourcesContent":["import React from 'react'\n\nconst { __ } = wp.i18n\nconst { SelectControl } = wp.components\n\nclass SelectForm extends React.Component {\n    constructor(props) {\n        super(props)\n    }\n\n    render() {\n        return (\n            <SelectControl\n                className={this.props.class}\n                value={this.props.formId}\n                onChange={this.props.onSetId}\n                options={this.props.formOptions}\n            />\n        )\n    }\n}\n\nexport default SelectForm\n","import React from 'react'\n\nconst { __ } = wp.i18n\nconst { InspectorControls } = wp.blockEditor\nconst { SelectControl, TextControl, CardBody } = wp.components\n\nclass Sidebar extends React.Component {\n    constructor(props) {\n        super(props)\n    }\n\n    render() {\n        return (\n            <InspectorControls>\n                <CardBody>\n                    <SelectControl\n                        label={__('Shortcode behavior', 'smartpay')}\n                        value={this.props.attributes.behavior}\n                        onChange={this.props.onSetBehavior}\n                        options={[\n                            {\n                                value: null,\n                                label: __('Select a behavior', 'smartpay'),\n                                disabled: true,\n                            },\n                            { value: 'popup', label: __('Popup', 'smartpay') },\n                            {\n                                value: 'embedded',\n                                label: __('Embedded', 'smartpay'),\n                            },\n                        ]}\n                    />\n\n                    {'popup' === this.props.attributes.behavior && (\n                        <TextControl\n                            label={__('Button label', 'smartpay')}\n                            value={this.props.attributes.label}\n                            onChange={this.props.onSetLabel}\n                        />\n                    )}\n                </CardBody>\n            </InspectorControls>\n        )\n    }\n}\n\nexport default Sidebar\n","const { __ } = wp.i18n\nconst { registerBlockType } = wp.blocks\nconst { Fragment, useEffect, useState  } = wp.element\n\nimport Sidebar from './components/Sidebar'\nimport SelectForm from './components/SelectForm'\n\nexport default registerBlockType('smartpay/form', {\n    title: __('SmartPay Form', 'smartpay'),\n    description: __('Simple block to show a form', 'smartpay'),\n    icon: 'format-aside',\n    category: 'widgets',\n\n    attributes: {\n        id: {\n            type: 'integer',\n            default: 0,\n        },\n        behavior: {\n            type: 'string',\n            default: 'popup',\n        },\n        label: {\n            type: 'string',\n            default: '',\n        },\n    },\n\n    edit: ({ attributes, setAttributes }) => {\n        function setId(id) {\n            setAttributes({ id: parseInt(id) })\n        }\n\n        function setBehavior(behavior) {\n            setAttributes({ behavior: behavior })\n        }\n\n        function setLabel(label) {\n            setAttributes({ label: label })\n        }\n\n        const [forms, setForms] = useState([]);\n\n        useEffect( () => {\n            wp.apiFetch({\n                path: `smartpay/v1/forms`,\n                headers: {\n                    'X-WP-Nonce': smartpay.apiNonce,\n                },\n            })\n            .then( ( data ) => {\n                let formList = []\n                formList = data?.forms.map( form => {\n                    return {\n                        value: form.id,\n                        label: `(#${form.id}) ${form.title}`,\n                    }\n                })\n                setForms( formList );\n\t\t\t} )\n            .catch( () => {\n\t\t\t\tsetForms( [] );\n\t\t\t} );\n        }, [] );\n\n        let formOptions = [\n            {\n                value: null,\n                label: __('Select a form', 'smartpay'),\n            },\n            ...forms\n        ]\n\n        return (\n            <Fragment>\n                <div className=\"smartpay\">\n                    <div className=\"container block-editor form card py-4\">\n                        <div className=\"card-body text-center\">\n                            {/* <img src={smartpay_logo} className=\"logo img-fluid\" /> */}\n                            <strong>{__('SmartPay', 'smartpay')}</strong>\n                            <div className=\"d-flex justify-content-center mt-1\">\n                                <div className=\"col-md-8\">\n                                    <h5\n                                        className=\"text-center mb-3 m-0 font-weight-normal\"\n                                        style={{ fontSize: '16px' }}\n                                    >\n                                        {__('Select a Form', 'smartpay')}\n                                    </h5>\n                                    <SelectForm\n                                        formOptions={formOptions}\n                                        formId={attributes.id}\n                                        onSetId={setId}\n                                        className=\"form-control form-control-sm mx-auto\"\n                                    ></SelectForm>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <Sidebar\n                    attributes={attributes}\n                    onSetId={setId}\n                    onSetBehavior={setBehavior}\n                    onSetLabel={setLabel}\n                ></Sidebar>\n            </Fragment>\n        )\n    },\n\n    save: ({ attributes }) => {\n        return `[smartpay_form id=\"${attributes.id}\" behavior=\"${attributes.behavior}\" label=\"${attributes.label}\"]`\n    },\n})\n","import React from 'react'\n\nconst { __ } = wp.i18n\nconst { SelectControl } = wp.components\n\nclass SelectProduct extends React.Component {\n    constructor(props) {\n        super(props)\n    }\n\n    render() {\n        return (\n            <SelectControl\n                className={this.props.class}\n                value={this.props.productId}\n                onChange={this.props.onSetId}\n                options={this.props.productOptions}\n            />\n        )\n    }\n}\n\nexport default SelectProduct\n","import React from 'react'\n\nconst { __ } = wp.i18n\nconst { InspectorControls } = wp.blockEditor\nconst { SelectControl, TextControl, CardBody } = wp.components\n\nclass Sidebar extends React.Component {\n    constructor(props) {\n        super(props)\n    }\n\n    render() {\n        return (\n            <InspectorControls>\n                <CardBody>\n                    <SelectControl\n                        label={__('Shortcode behavior', 'smartpay')}\n                        value={this.props.attributes.behavior}\n                        onChange={this.props.onSetBehavior}\n                        options={[\n                            {\n                                value: null,\n                                label: __('Select a behavior', 'smartpay'),\n                                disabled: true,\n                            },\n                            { value: 'popup', label: __('Popup', 'smartpay') },\n                            {\n                                value: 'embedded',\n                                label: __('Embedded', 'smartpay'),\n                            },\n                        ]}\n                    />\n\n                    {'popup' === this.props.attributes.behavior && (\n                        <TextControl\n                            label={__('Button label', 'smartpay')}\n                            value={this.props.attributes.label}\n                            onChange={this.props.onSetLabel}\n                        />\n                    )}\n                </CardBody>\n            </InspectorControls>\n        )\n    }\n}\n\nexport default Sidebar\n","const { __ } = wp.i18n\nconst { registerBlockType } = wp.blocks\nconst { Fragment, useEffect, useState  } = wp.element\n\nimport Sidebar from './components/Sidebar'\nimport SelectProduct from './components/SelectProduct'\n\nexport default registerBlockType('smartpay/product', {\n    title: __('SmartPay Product', 'smartpay'),\n    description: __('Simple block to show a product', 'smartpay'),\n    icon: 'format-aside',\n    category: 'widgets',\n\n    attributes: {\n        id: {\n            type: 'integer',\n            default: 0,\n        },\n        behavior: {\n            type: 'string',\n            default: 'popup',\n        },\n        label: {\n            type: 'string',\n            default: '',\n        },\n    },\n\n    edit: ({ attributes, setAttributes }) => {\n        function setId(id) {\n            setAttributes({ id: parseInt(id) })\n        }\n\n        function setBehavior(behavior) {\n            setAttributes({ behavior: behavior })\n        }\n\n        function setLabel(label) {\n            setAttributes({ label: label })\n        }\n\n        const [products, setProducts] = useState([]);\n\n        useEffect( () => {\n            wp.apiFetch({\n                path: `smartpay/v1/products`,\n                headers: {\n                    'X-WP-Nonce': smartpay.apiNonce,\n                },\n            })\n            .then( ( data ) => {\n                let productList = []\n                productList = data?.products.map( product => {\n                    return {\n                        value: product.id,\n                        label: `(#${product.id}) ${product.title}`,\n                    }\n                })\n                setProducts( productList );\n\t\t\t} )\n            .catch( () => {\n\t\t\t\tsetProducts( [] );\n\t\t\t} );\n        }, [] );\n        \n        let productOptions = [\n            {\n                value: null,\n                label: __('Select a product', 'smartpay'),\n            },\n            ...products\n        ]\n\n        return (\n            products ?\n            <Fragment>\n                <div className=\"smartpay\">\n                    <div className=\"container block-editor product card py-4\">\n                        <div className=\"card-body text-center\">\n                            {/* <img src={smartpay_logo} className=\"logo img-fluid\" /> */}\n                            <strong>{__('SmartPay', 'smartpay')}</strong>\n                            <div className=\"d-flex justify-content-center mt-1\">\n                                <div className=\"col-md-8\">\n                                    <h5\n                                        className=\"text-center mb-3 m-0 font-weight-normal\"\n                                        style={{ fontSize: '16px' }}\n                                    >\n                                        {__('Select a Product', 'smartpay')}\n                                    </h5>\n                                    <SelectProduct\n                                        productOptions={productOptions}\n                                        productId={attributes.id}\n                                        onSetId={setId}\n                                        className=\"form-control form-control-sm mx-auto\"\n                                    ></SelectProduct>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <Sidebar\n                    attributes={attributes}\n                    onSetId={setId}\n                    onSetBehavior={setBehavior}\n                    onSetLabel={setLabel}\n                ></Sidebar>\n            </Fragment>\n            : <h2>Loading</h2>\n        )\n    },\n\n    save: ({ attributes }) => {\n        return `[smartpay_product id=\"${attributes.id}\" behavior=\"${attributes.behavior}\" label=\"${attributes.label}\"]`\n    },\n})\n","module.exports = window[\"React\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import './form'\nimport './product'\n"],"names":["React","__","wp","i18n","SelectControl","components","SelectForm","props","formId","onSetId","formOptions","Component","InspectorControls","blockEditor","TextControl","CardBody","Sidebar","attributes","behavior","onSetBehavior","value","label","disabled","onSetLabel","registerBlockType","blocks","element","Fragment","useEffect","useState","title","description","icon","category","id","type","edit","setAttributes","setId","parseInt","setBehavior","setLabel","forms","setForms","apiFetch","path","headers","smartpay","apiNonce","then","data","formList","map","form","fontSize","save","SelectProduct","productId","productOptions","products","setProducts","productList","product"],"sourceRoot":""}