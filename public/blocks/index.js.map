{"version":3,"file":"index.js","mappings":"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","sources":["webpack://wp-smartpay/./resources/blocks/form/components/SelectForm.js","webpack://wp-smartpay/./resources/blocks/form/components/Sidebar.js","webpack://wp-smartpay/./resources/blocks/form/index.js","webpack://wp-smartpay/./resources/blocks/product/components/SelectProduct.js","webpack://wp-smartpay/./resources/blocks/product/components/Sidebar.js","webpack://wp-smartpay/./resources/blocks/product/index.js","webpack://wp-smartpay/external window \"React\"","webpack://wp-smartpay/webpack/bootstrap","webpack://wp-smartpay/webpack/runtime/compat get default export","webpack://wp-smartpay/webpack/runtime/define property getters","webpack://wp-smartpay/webpack/runtime/hasOwnProperty shorthand","webpack://wp-smartpay/webpack/runtime/make namespace object","webpack://wp-smartpay/./resources/blocks/index.js"],"sourcesContent":["import React from 'react'\n\nconst { __ } = wp.i18n\nconst { SelectControl } = wp.components\n\nclass SelectForm extends React.Component {\n    constructor(props) {\n        super(props)\n    }\n\n    render() {\n        return (\n            <SelectControl\n                className={this.props.class}\n                value={this.props.formId}\n                onChange={this.props.onSetId}\n                options={this.props.formOptions}\n            />\n        )\n    }\n}\n\nexport default SelectForm\n","import React from 'react'\n\nconst { __ } = wp.i18n\nconst { InspectorControls } = wp.blockEditor\nconst { SelectControl, TextControl, CardBody } = wp.components\n\nclass Sidebar extends React.Component {\n    constructor(props) {\n        super(props)\n    }\n\n    render() {\n        return (\n            <InspectorControls>\n                <CardBody>\n                    <SelectControl\n                        label={__('Shortcode behavior', 'smartpay')}\n                        value={this.props.attributes.behavior}\n                        onChange={this.props.onSetBehavior}\n                        options={[\n                            {\n                                value: null,\n                                label: __('Select a behavior', 'smartpay'),\n                                disabled: true,\n                            },\n                            { value: 'popup', label: __('Popup', 'smartpay') },\n                            {\n                                value: 'embedded',\n                                label: __('Embedded', 'smartpay'),\n                            },\n                        ]}\n                    />\n\n                    {'popup' === this.props.attributes.behavior && (\n                        <TextControl\n                            label={__('Button label', 'smartpay')}\n                            value={this.props.attributes.label}\n                            onChange={this.props.onSetLabel}\n                        />\n                    )}\n                </CardBody>\n            </InspectorControls>\n        )\n    }\n}\n\nexport default Sidebar\n","const { __ } = wp.i18n\nconst { registerBlockType } = wp.blocks\nconst { Fragment, useEffect, useState  } = wp.element\n\nimport Sidebar from './components/Sidebar'\nimport SelectForm from './components/SelectForm'\n\nexport default registerBlockType('smartpay/form', {\n    title: __('SmartPay Form', 'smartpay'),\n    description: __('Simple block to show a form', 'smartpay'),\n    icon: 'format-aside',\n    category: 'widgets',\n\n    attributes: {\n        id: {\n            type: 'integer',\n            default: 0,\n        },\n        behavior: {\n            type: 'string',\n            default: 'popup',\n        },\n        label: {\n            type: 'string',\n            default: '',\n        },\n    },\n\n    edit: ({ attributes, setAttributes }) => {\n        function setId(id) {\n            setAttributes({ id: parseInt(id) })\n        }\n\n        function setBehavior(behavior) {\n            setAttributes({ behavior: behavior })\n        }\n\n        function setLabel(label) {\n            setAttributes({ label: label })\n        }\n\n        const [forms, setForms] = useState([]);\n\n        useEffect( () => {\n            wp.apiFetch({\n                path: `smartpay/v1/forms`,\n                headers: {\n                    'X-WP-Nonce': smartpay.apiNonce,\n                },\n            })\n            .then( ( data ) => {\n                let formList = []\n                formList = data?.forms.map( form => {\n                    return {\n                        value: form.id,\n                        label: `(#${form.id}) ${form.title}`,\n                    }\n                })\n                setForms( formList );\n\t\t\t} )\n            .catch( () => {\n\t\t\t\tsetForms( [] );\n\t\t\t} );\n        }, [] );\n\n        let formOptions = [\n            {\n                value: null,\n                label: __('Select a form', 'smartpay'),\n            },\n            ...forms\n        ]\n\n        return (\n            <Fragment>\n                <div className=\"smartpay\">\n                    <div className=\"container block-editor form card py-4\">\n                        <div className=\"card-body text-center\">\n                            {/* <img src={smartpay_logo} className=\"logo img-fluid\" /> */}\n                            <strong>{__('SmartPay', 'smartpay')}</strong>\n                            <div className=\"d-flex justify-content-center mt-1\">\n                                <div className=\"col-md-8\">\n                                    <h5\n                                        className=\"text-center mb-3 m-0 font-weight-normal\"\n                                        style={{ fontSize: '16px' }}\n                                    >\n                                        {__('Select a Form', 'smartpay')}\n                                    </h5>\n                                    <SelectForm\n                                        formOptions={formOptions}\n                                        formId={attributes.id}\n                                        onSetId={setId}\n                                        className=\"form-control form-control-sm mx-auto\"\n                                    ></SelectForm>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <Sidebar\n                    attributes={attributes}\n                    onSetId={setId}\n                    onSetBehavior={setBehavior}\n                    onSetLabel={setLabel}\n                ></Sidebar>\n            </Fragment>\n        )\n    },\n\n    save: ({ attributes }) => {\n        return `[smartpay_form id=\"${attributes.id}\" behavior=\"${attributes.behavior}\" label=\"${attributes.label}\"]`\n    },\n})\n","import React from 'react'\n\nconst { __ } = wp.i18n\nconst { SelectControl } = wp.components\n\nclass SelectProduct extends React.Component {\n    constructor(props) {\n        super(props)\n    }\n\n    render() {\n        return (\n            <SelectControl\n                className={this.props.class}\n                value={this.props.productId}\n                onChange={this.props.onSetId}\n                options={this.props.productOptions}\n            />\n        )\n    }\n}\n\nexport default SelectProduct\n","import React from 'react'\n\nconst { __ } = wp.i18n\nconst { InspectorControls } = wp.blockEditor\nconst { SelectControl, TextControl, CardBody } = wp.components\n\nclass Sidebar extends React.Component {\n    constructor(props) {\n        super(props)\n    }\n\n    render() {\n        return (\n            <InspectorControls>\n                <CardBody>\n                    <SelectControl\n                        label={__('Shortcode behavior', 'smartpay')}\n                        value={this.props.attributes.behavior}\n                        onChange={this.props.onSetBehavior}\n                        options={[\n                            {\n                                value: null,\n                                label: __('Select a behavior', 'smartpay'),\n                                disabled: true,\n                            },\n                            { value: 'popup', label: __('Popup', 'smartpay') },\n                            {\n                                value: 'embedded',\n                                label: __('Embedded', 'smartpay'),\n                            },\n                        ]}\n                    />\n\n                    {'popup' === this.props.attributes.behavior && (\n                        <TextControl\n                            label={__('Button label', 'smartpay')}\n                            value={this.props.attributes.label}\n                            onChange={this.props.onSetLabel}\n                        />\n                    )}\n                </CardBody>\n            </InspectorControls>\n        )\n    }\n}\n\nexport default Sidebar\n","const { __ } = wp.i18n\nconst { registerBlockType } = wp.blocks\nconst { Fragment, useEffect, useState  } = wp.element\n\nimport Sidebar from './components/Sidebar'\nimport SelectProduct from './components/SelectProduct'\n\nexport default registerBlockType('smartpay/product', {\n    title: __('SmartPay Product', 'smartpay'),\n    description: __('Simple block to show a product', 'smartpay'),\n    icon: 'format-aside',\n    category: 'widgets',\n\n    attributes: {\n        id: {\n            type: 'integer',\n            default: 0,\n        },\n        behavior: {\n            type: 'string',\n            default: 'popup',\n        },\n        label: {\n            type: 'string',\n            default: '',\n        },\n    },\n\n    edit: ({ attributes, setAttributes }) => {\n        function setId(id) {\n            setAttributes({ id: parseInt(id) })\n        }\n\n        function setBehavior(behavior) {\n            setAttributes({ behavior: behavior })\n        }\n\n        function setLabel(label) {\n            setAttributes({ label: label })\n        }\n\n        const [products, setProducts] = useState([]);\n\n        useEffect( () => {\n            wp.apiFetch({\n                path: `smartpay/v1/products`,\n                headers: {\n                    'X-WP-Nonce': smartpay.apiNonce,\n                },\n            })\n            .then( ( data ) => {\n                let productList = []\n                productList = data?.products.map( product => {\n                    return {\n                        value: product.id,\n                        label: `(#${product.id}) ${product.title}`,\n                    }\n                })\n                setProducts( productList );\n\t\t\t} )\n            .catch( () => {\n\t\t\t\tsetProducts( [] );\n\t\t\t} );\n        }, [] );\n        \n        let productOptions = [\n            {\n                value: null,\n                label: __('Select a product', 'smartpay'),\n            },\n            ...products\n        ]\n\n        return (\n            products ?\n            <Fragment>\n                <div className=\"smartpay\">\n                    <div className=\"container block-editor product card py-4\">\n                        <div className=\"card-body text-center\">\n                            {/* <img src={smartpay_logo} className=\"logo img-fluid\" /> */}\n                            <strong>{__('SmartPay', 'smartpay')}</strong>\n                            <div className=\"d-flex justify-content-center mt-1\">\n                                <div className=\"col-md-8\">\n                                    <h5\n                                        className=\"text-center mb-3 m-0 font-weight-normal\"\n                                        style={{ fontSize: '16px' }}\n                                    >\n                                        {__('Select a Product', 'smartpay')}\n                                    </h5>\n                                    <SelectProduct\n                                        productOptions={productOptions}\n                                        productId={attributes.id}\n                                        onSetId={setId}\n                                        className=\"form-control form-control-sm mx-auto\"\n                                    ></SelectProduct>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <Sidebar\n                    attributes={attributes}\n                    onSetId={setId}\n                    onSetBehavior={setBehavior}\n                    onSetLabel={setLabel}\n                ></Sidebar>\n            </Fragment>\n            : <h2>Loading</h2>\n        )\n    },\n\n    save: ({ attributes }) => {\n        return `[smartpay_product id=\"${attributes.id}\" behavior=\"${attributes.behavior}\" label=\"${attributes.label}\"]`\n    },\n})\n","module.exports = window[\"React\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import './form'\nimport './product'\n"],"names":["React","__","wp","i18n","SelectControl","components","SelectForm","props","formId","onSetId","formOptions","Component","InspectorControls","blockEditor","TextControl","CardBody","Sidebar","attributes","behavior","onSetBehavior","value","label","disabled","onSetLabel","registerBlockType","blocks","element","Fragment","useEffect","useState","title","description","icon","category","id","type","edit","setAttributes","setId","parseInt","setBehavior","setLabel","forms","setForms","apiFetch","path","headers","smartpay","apiNonce","then","data","formList","map","form","fontSize","save","SelectProduct","productId","productOptions","products","setProducts","productList","product"],"sourceRoot":""}